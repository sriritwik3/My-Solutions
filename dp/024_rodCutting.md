# Rod Cutting  
**[Link](https://takeuforward.org/data-structure/rod-cutting-problem-dp-24/)**  
We are given a rod of size ‘N’. It can be cut into pieces. Each length of a piece has a particular price given by the price array.
Our task is to find the maximum revenue that can be generated by selling the rod after cutting( if required) into pieces.  

## Solution  
It is similar to the unbounded knapsack problem with slight modifications.  
The rod pieces are equivalent to the items and the rod length is equivalent to the knapsack capacity.  
f(ind, j) - maximum revenue generated by considering cuts upto index ind of rod length j.  
![image](https://user-images.githubusercontent.com/56584349/177977960-5bb00e58-6a1e-4c03-b1ec-0d66b34a40cc.png)  

## Memoization  
```cpp
#include <bits/stdc++.h>

using namespace std;

int cutRodUtil(vector<int>& price, int ind, int N, vector<vector<int>>& dp){

    if(ind == 0){
        return N*price[0];
    }
    
    if(dp[ind][N]!=-1)
        return dp[ind][N];
        
    int notTaken = 0 + cutRodUtil(price,ind-1,N,dp);
    
    int taken = INT_MIN;
    int rodLength = ind+1;
    if(rodLength <= N)
        taken = price[ind] + cutRodUtil(price,ind,N-rodLength,dp);
        
    return dp[ind][N] = max(notTaken,taken);
}


int cutRod(vector<int>& price,int N) {

    vector<vector<int>> dp(N,vector<int>(N+1,-1));
    return cutRodUtil(price,N-1,N,dp);
}

int main() {

  vector<int> price = {2,5,7,8,10};
  
  int n = price.size();
                                 
  cout<<"The Maximum price generated is "<<cutRod(price,n);
}
```
TC - O (N^2), SC - O(N^2) + O(N)  

## Tabulation  
```cpp
#include <bits/stdc++.h>

using namespace std;

int cutRod(vector<int>& price,int N) {

    vector<vector<int>> dp(N,vector<int>(N+1,-1));
    
    for(int i=0; i<=N; i++){
        dp[0][i] = i*price[0];
    }
    
    for(int ind=1; ind<N; ind++){
        for(int length =0; length<=N; length++){
        
             int notTaken = 0 + dp[ind-1][length];
    
             int taken = INT_MIN;
             int rodLength = ind+1;
             if(rodLength <= length)
                taken = price[ind] + dp[ind][length-rodLength];
        
             dp[ind][length] = max(notTaken,taken);   
        }
    }
    
    return dp[N-1][N];
}


int main() {

  vector<int> price = {2,5,7,8,10};
  
  int n = price.size();
                                 
  cout<<"The Maximum price generated is "<<cutRod(price,n);
}
```
TC, SC - O(N^2)  

## Space Optimised  
```cpp
#include <bits/stdc++.h>

using namespace std;

int cutRod(vector<int>& price,int N) {

    vector<int> cur (N+1,0);
    
    for(int i=0; i<=N; i++){
        cur[i] = i*price[0];
    }
    
    for(int ind=1; ind<N; ind++){
        for(int length =0; length<=N; length++){
        
             int notTaken = 0 + cur[length];
    
             int taken = INT_MIN;
             int rodLength = ind+1;
             if(rodLength <= length)
                taken = price[ind] + cur[length-rodLength];
        
             cur[length] = max(notTaken,taken);   
        }
    }
    
    return cur[N];
}



int main() {

  vector<int> price = {2,5,7,8,10};
  
  int n = price.size();
                                 
  cout<<"The Maximum price generated is "<<cutRod(price,n);
}
```
TC - O(N^2), SC - O(N)  
